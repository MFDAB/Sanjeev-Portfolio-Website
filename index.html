<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>R Sanjeev | Technical Portfolio</title>
    <!-- Icons and Fonts -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        /* Font Imports */
        @font-face {
            font-family: 'MiSans-Regular';
            src: url('https://assets-persist.lovart.ai/agent-static-assets/MiSans-Regular.ttf') format('truetype');
        }
        @font-face {
            font-family: 'MiSans-Bold';
            src: url('https://assets-persist.lovart.ai/agent-static-assets/MiSans-Bold.ttf') format('truetype');
        }
        @font-face {
            font-family: 'AlimamaShuHeiTi-Bold';
            src: url('https://assets-persist.lovart.ai/agent-static-assets/AlimamaShuHeiTi-Bold.otf') format('opentype');
        }

        /* Reset & Base Styles */
        :root {
            --bg-dark: #05080c;
            --bg-card: #111b2d;
            --accent-blue: #415A77;
            --highlight: #778DA9;
            --text-main: #E0E1DD;
            --text-muted: #8D99AE;
            --neon-blue: #00B4D8;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'MiSans-Regular', sans-serif;
            margin: 0;
            overflow-x: hidden;
            line-height: 1.6;
            width: 100vw;
        }

        /* THREE JS BACKGROUND */
        canvas#three-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        .container {
            width: 90%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* --- NAVIGATION TAB & DRAWER --- */
        .menu-tab {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(17, 27, 45, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            z-index: 5000;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .menu-tab:hover {
            border-color: var(--neon-blue);
            box-shadow: 0 0 15px rgba(0, 180, 216, 0.3);
        }

        .logo-placeholder {
            width: 32px;
            height: 32px;
            background: var(--neon-blue);
            color: #000;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-family: 'AlimamaShuHeiTi-Bold';
            font-size: 14px;
        }

        .menu-text {
            font-family: 'MiSans-Bold';
            font-size: 14px;
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: none; /* Hidden on super small screens by default */
        }
        @media(min-width: 400px) { .menu-text { display: block; } }

        /* Nav Drawer */
        .nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.6);
            z-index: 4999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .nav-overlay.open { opacity: 1; pointer-events: auto; }

        .nav-drawer {
            position: fixed;
            top: 0;
            left: -100%;
            width: 80%;
            max-width: 320px;
            height: 100vh;
            background: rgba(13, 19, 26, 0.98);
            backdrop-filter: blur(15px);
            border-right: 1px solid rgba(255,255,255,0.05);
            z-index: 5001;
            padding: 80px 30px;
            transition: left 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .nav-drawer.open { left: 0; }

        .nav-item {
            font-family: 'AlimamaShuHeiTi-Bold';
            font-size: 20px;
            color: var(--text-muted);
            cursor: pointer;
            transition: 0.3s;
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px 0;
        }

        .nav-item:hover, .nav-item.active {
            color: var(--neon-blue);
            transform: translateX(10px);
        }

        .close-nav {
            position: absolute;
            top: 25px;
            right: 25px;
            font-size: 24px;
            cursor: pointer;
            color: #fff;
            padding: 10px; /* larger touch target */
        }

        /* View Management */
        .view-section {
            transition: opacity 0.5s ease, transform 0.5s ease;
            width: 100%;
            min-height: 100vh;
            position: relative;
        }

        .view-section.hidden {
            display: none;
            opacity: 0;
            pointer-events: none;
        }
        
        /* General Styles */
        .btn {
            padding: 14px 30px;
            border-radius: 50px;
            font-family: 'MiSans-Bold', sans-serif;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            z-index: 100;
        }

        .btn-primary { background: var(--accent-blue); color: #fff; border: none; box-shadow: 0 0 20px rgba(65, 90, 119, 0.4); }
        .btn-primary:hover { transform: translateY(-3px); background: var(--neon-blue); box-shadow: 0 0 30px rgba(0, 180, 216, 0.6); }
        .btn-secondary { background: transparent; border: 2px solid var(--accent-blue); color: #fff; }

        /* --- HOME VIEW --- */
        .hero { 
            min-height: 90vh; 
            width: 100%; 
            position: relative; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            text-align: center; 
            padding: 100px 0 60px; /* Adjusted padding for mobile nav */
        }
        
        .hero-content { z-index: 10; max-width: 900px; padding: 0 20px; }
        
        h1 { 
            font-family: 'AlimamaShuHeiTi-Bold'; 
            font-size: clamp(2.5rem, 8vw, 5rem); 
            line-height: 1.1; 
            margin-bottom: 24px; 
            background: linear-gradient(135deg, #fff 0%, #778DA9 100%); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
        }

        .hero-sub {
            font-size: clamp(1rem, 4vw, 1.5rem);
            color: var(--text-muted);
            margin-bottom: 40px;
        }

        .cta-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .section-title { 
            font-family: 'AlimamaShuHeiTi-Bold'; 
            font-size: clamp(2rem, 5vw, 42px); 
            margin-bottom: 20px; 
            color: #fff; 
            position: relative; 
            display: inline-block; 
        }
        
        .section-title::after { content: ''; position: absolute; width: 60px; height: 4px; background: var(--neon-blue); bottom: -10px; left: 0; }
        
        /* About Section */
        .about-section { padding: 80px 0; }
        .about-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            align-items: center;
        }

        .profile-img-container {
            width: 100%;
            max-width: 350px;
            aspect-ratio: 1;
            margin: 0 auto;
            border-radius: 20%;
            background: linear-gradient(45deg, var(--bg-card), var(--accent-blue));
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        .tech-tag {
            background: rgba(65, 90, 119, 0.2);
            color: var(--highlight);
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            display: inline-block;
            margin: 0 5px 5px 0;
        }

        /* Skills Section */
        .skills-section { padding: 80px 0; background: rgba(8, 12, 20, 0.6); }
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 25px;
        }
        .skill-card {
            background: var(--bg-card);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.05);
            transition: transform 0.2s ease, border-color 0.3s;
        }
        .skill-icon { font-size: 32px; color: var(--neon-blue); margin-bottom: 15px; }

        /* Projects Section */
        .projects-section { padding: 80px 0; }
        .projects-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); 
            gap: 30px; 
        }

        .project-card { 
            background: var(--bg-card); 
            border-radius: 24px; 
            overflow: hidden; 
            display: flex; 
            flex-direction: column; 
            border: 1px solid rgba(255,255,255,0.03); 
            height: 100%; 
            /* Tilt effect handled by JS, but base style here */
        }
        
        .project-header { height: 180px; background: linear-gradient(135deg, #1f2d44 0%, #05080c 100%); display: flex; align-items: center; justify-content: center; }
        .project-icon { font-size: 50px; color: rgba(255,255,255,0.2); }
        .project-content { padding: 25px; flex-grow: 1; display: flex; flex-direction: column; }
        
        /* Footer */
        footer { padding: 60px 0; background: rgba(2, 4, 6, 0.9); border-top: 1px solid rgba(255,255,255,0.05); }
        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 30px;
        }
        
        @media (min-width: 768px) {
            .footer-content { 
                flex-direction: row; 
                justify-content: space-between; 
                text-align: left;
                align-items: flex-start;
            }
        }

        .social-links { display: flex; gap: 20px; justify-content: center; }
        .social-card {
            width: 50px; height: 50px;
            background: #111b2d;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 20px; color: #fff; text-decoration: none;
        }

        /* --- 3D GALLERY VIEW (Carousel) --- */
        #gallery-view { height: 100vh; width: 100vw; position: fixed; top: 0; left: 0; background: var(--bg-dark); z-index: 2000; display: flex; flex-direction: column; align-items: center; justify-content: center; overflow: hidden; }
        
        /* Lifted slightly for better centering */
        .carousel-scene { width: 100%; height: 60vh; perspective: 1200px; display: flex; align-items: center; justify-content: center; position: relative; margin-top: -50px; }
        
        .carousel { position: relative; width: 240px; height: 380px; transform-style: preserve-3d; }
        /* Responsive Carousel Card */
        @media (max-width: 500px) {
            .carousel { width: 200px; height: 320px; }
        }
        .carousel-item { position: absolute; width: 100%; height: 100%; left: 0; top: 0; background: rgba(22, 33, 54, 0.95); border: 1px solid var(--accent-blue); border-radius: 16px; padding: 20px; backface-visibility: visible; cursor: grab; transition: border-color 0.3s; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.5); display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        .carousel-item.active { border-color: var(--neon-blue); box-shadow: 0 0 50px rgba(0, 180, 216, 0.3); z-index: 10; }

        /* --- CERTIFICATIONS VIEW --- */
        #certs-view {
            height: 100vh;
            width: 100vw;
            position: fixed;
            top: 0; left: 0;
            background: var(--bg-dark);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .wall-scene {
            width: 90%;
            height: 80%;
            perspective: 2000px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cert-wall {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            transform-style: preserve-3d;
            transition: transform 0.1s ease-out;
            width: 100%;
            max-width: 1000px;
        }

        @media (max-width: 900px) { .cert-wall { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 600px) { .cert-wall { grid-template-columns: 1fr; max-height: 70vh; overflow-y: auto; display: flex; flex-direction: column; perspective: none; transform-style: flat; } .wall-scene { perspective: none; } }

        .cert-card {
            min-height: 180px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            backdrop-filter: blur(5px);
            transition: transform 0.3s, border-color 0.3s, box-shadow 0.3s;
        }

        .cert-card:hover { border-color: var(--neon-blue); background: rgba(22, 33, 54, 0.9); }
        .cert-icon { font-size: 40px; color: var(--neon-blue); margin-bottom: 15px; }

        /* --- EXPERIENCE VIEW --- */
        #exp-view {
            height: 100vh; /* Fixed height required for scroll */
            width: 100vw;
            position: fixed;
            top: 0;
            left: 0;
            background: var(--bg-dark);
            z-index: 2000;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-y: auto; /* Enable vertical scrolling */
            padding: 0;
            -webkit-overflow-scrolling: touch; 
        }

        /* Sticky Header for Experience */
        .exp-sticky-header {
            position: sticky;
            top: 0;
            z-index: 50;
            width: 100%;
            background: linear-gradient(180deg, var(--bg-dark) 0%, var(--bg-dark) 90%, transparent 100%);
            padding-top: 80px; /* More space for the back button */
            padding-bottom: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        /* Experience Tabs */
        .exp-tabs {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            padding: 0 15px;
        }

        .exp-tab-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 20px;
            color: var(--text-muted);
            cursor: pointer;
            transition: 0.3s;
            font-family: 'MiSans-Bold';
            font-size: 0.9rem;
        }

        .exp-tab-btn.active, .exp-tab-btn:hover {
            background: var(--accent-blue);
            color: #fff;
            border-color: var(--neon-blue);
            box-shadow: 0 0 15px rgba(0, 180, 216, 0.3);
        }

        .timeline-container {
            width: 90%;
            max-width: 600px;
            perspective: 1000px;
            display: flex;
            flex-direction: column;
            gap: 40px; 
            padding-bottom: 100px; 
            margin-top: 40px; /* Give space below header */
        }

        .timeline-item {
            background: linear-gradient(90deg, #111b2d 0%, rgba(17, 27, 45, 0.5) 100%);
            border-left: 4px solid var(--accent-blue);
            padding: 25px;
            border-radius: 4px;
            transform-style: preserve-3d;
            transform-origin: center center;
            opacity: 1;
            /* Transition only strictly non-transform props for performance */
            transition: border-color 0.3s, background 0.3s, box-shadow 0.3s; 
            will-change: transform, opacity;
        }

        .timeline-item:hover {
            border-left-color: var(--neon-blue);
            background: #1B263B;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* --- COMMON UTILS --- */
        .back-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 2005;
            background: rgba(0,0,0,0.5);
            border: 1px solid var(--text-muted);
            color: #fff;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            backdrop-filter: blur(5px);
        }

        /* Morph Overlay (Responsive) */
        .morph-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-dark); z-index: 3000; opacity: 0; pointer-events: none; transition: opacity 0.5s ease; display: flex; justify-content: center; overflow-y: auto; }
        .morph-overlay.active { opacity: 1; pointer-events: auto; }
        .morph-content-wrapper { background: var(--bg-card); width: 90%; max-width: 1000px; min-height: 100vh; position: absolute; top: 0; left: 0; transform-origin: center; transition: all 0.6s; border: none; }
        
        /* Ensure overlay content fits on mobile */
        .detail-header { padding: 60px 20px 40px; text-align: center; }
        .detail-body { padding: 20px; max-width: 800px; margin: 0 auto; }
        .detail-grid { display: grid; grid-template-columns: 1fr; gap: 40px; }
        @media (min-width: 800px) { .detail-grid { grid-template-columns: 2fr 1fr; } }
        
        .close-morph { position: fixed; top: 20px; right: 20px; font-size: 28px; z-index: 4000; background: rgba(0,0,0,0.6); width: 44px; height: 44px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; cursor: pointer; }

    </style>
</head>
<body>

    <!-- 3D Background -->
    <canvas id="three-canvas"></canvas>

    <!-- TOP LEFT MENU TAB -->
    <div class="menu-tab" onclick="toggleNav()">
        <div class="logo-placeholder">RS</div>
        <span class="menu-text">Menu</span>
    </div>

    <!-- NAVIGATION OVERLAY / DRAWER -->
    <div class="nav-overlay" id="nav-overlay" onclick="toggleNav()"></div>
    <div class="nav-drawer" id="nav-drawer">
        <i class="ri-close-line close-nav" onclick="toggleNav()"></i>
        
        <div class="nav-item active" onclick="navTo('home')">
            <i class="ri-home-4-line"></i> Home
        </div>
        <div class="nav-item" onclick="navTo('gallery')">
            <i class="ri-box-3-line"></i> 3D Project Gallery
        </div>
        <div class="nav-item" onclick="navTo('certs')">
            <i class="ri-medal-line"></i> Certifications
        </div>
        <div class="nav-item" onclick="navTo('exp')">
            <i class="ri-briefcase-4-line"></i> Experience
        </div>
        <div class="nav-item" onclick="navTo('contact')">
            <i class="ri-mail-send-line"></i> Contact
        </div>
        <div style="margin-top: auto; color: var(--text-muted); font-size: 0.8rem;">
            R Sanjeev Portfolio<br>v3.4 Final Adjust
        </div>
    </div>

    <!-- HOME VIEW -->
    <div id="home-view" class="view-section">
        <!-- Hero -->
        <section class="hero">
            <div class="hero-content">
                <h1>R Sanjeev | Engineering<br>Innovator & Robotics</h1>
                <p class="hero-sub">Specializing in autonomous systems, IoT, and embedded electronics. <br>Bridging the gap between software and hardware.</p>
                <div class="cta-group">
                    <button onclick="navTo('gallery')" class="btn btn-primary">
                        View Projects <i class="ri-arrow-right-line"></i>
                    </button>
                    <button onclick="navTo('certs')" class="btn btn-secondary">
                        Credentials <i class="ri-medal-line"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- About Section (Restored) -->
        <section class="about-section container">
            <div class="about-grid">
                <div class="profile-img-container">
                    <i class="ri-user-smile-line" style="font-size: 80px; color: rgba(255,255,255,0.2);"></i>
                </div>
                <div class="about-text">
                    <h2 class="section-title">About Me</h2>
                    <p style="margin-bottom: 20px; font-size: 1.1rem; color: #ccc;">
                        I am a problem solver with a deep passion for robotics. From Canberra Secondary School to Nanyang Polytechnic, I've built a foundation in both software and hardware engineering.
                        Whether leading teams at NYP Maker Space or engineering drone swarm systems for victim rescue, I thrive on building complex objects that solve real-world problems.
                    </p>
                    <div style="margin-top: 20px;">
                        <span class="tech-tag">Team Lead @ NYP Maker Space</span>
                        <span class="tech-tag">SAFMC Participant</span>
                        <span class="tech-tag">World Skills Mechatronics</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Skills Section (Restored) -->
        <section class="skills-section">
            <div class="container">
                <h2 class="section-title">Technical Toolkit</h2>
                <div class="skills-grid">
                    <div class="skill-card tilt-card">
                        <i class="ri-cpu-line skill-icon"></i>
                        <h3 style="margin-bottom: 10px; color: #fff;">Embedded</h3>
                        <p style="color: var(--text-muted); font-size: 0.9rem;">C/C++, Assembly, PCB Design (Altium/KiCad), STM32, ESP32.</p>
                    </div>
                    <div class="skill-card tilt-card">
                        <i class="ri-code-s-slash-line skill-icon"></i>
                        <h3 style="margin-bottom: 10px; color: #fff;">Web & Software</h3>
                        <p style="color: var(--text-muted); font-size: 0.9rem;">Python (Flask), JavaScript, HTML/CSS, Git, Linux Systems.</p>
                    </div>
                    <div class="skill-card tilt-card">
                        <i class="ri-brain-line skill-icon"></i>
                        <h3 style="margin-bottom: 10px; color: #fff;">AI & Data</h3>
                        <p style="color: var(--text-muted); font-size: 0.9rem;">OpenCV, Computer Vision, NumPy, Matplotlib, Data Analysis.</p>
                    </div>
                    <div class="skill-card tilt-card">
                        <i class="ri-robot-line skill-icon"></i>
                        <h3 style="margin-bottom: 10px; color: #fff;">Robotics</h3>
                        <p style="color: var(--text-muted); font-size: 0.9rem;">ROS, Drone Systems, Swarm Logic, Control Systems.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section (Restored) -->
        <section class="projects-section container">
            <h2 class="section-title">Featured Projects</h2>
            <div class="projects-grid">
                <!-- Project 1 -->
                <div class="project-card tilt-card" onclick="navTo('gallery')">
                    <div class="project-header"><i class="ri-flight-takeoff-line project-icon"></i></div>
                    <div class="project-content">
                        <h3 style="color: #fff; margin-bottom: 10px;">DUODRONEomni</h3>
                        <p style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 15px;">Dual propeller drone featuring virtual swash plate mechanism.</p>
                        <div><span class="tech-tag">SDR</span> <span class="tech-tag">WiFi 7</span></div>
                    </div>
                </div>
                <!-- Project 2 -->
                <div class="project-card tilt-card" onclick="navTo('gallery')">
                    <div class="project-header"><i class="ri-group-line project-icon"></i></div>
                    <div class="project-content">
                        <h3 style="color: #fff; margin-bottom: 10px;">Drone Swarm</h3>
                        <p style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 15px;">Autonomous swarm for search & rescue operations.</p>
                        <div><span class="tech-tag">Python</span> <span class="tech-tag">AI</span></div>
                    </div>
                </div>
                <!-- Project 3 -->
                <div class="project-card tilt-card" onclick="navTo('gallery')">
                    <div class="project-header"><i class="ri-leaf-line project-icon"></i></div>
                    <div class="project-content">
                        <h3 style="color: #fff; margin-bottom: 10px;">Eco-Insulation</h3>
                        <p style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 15px;">Mycelium-based sustainable construction material.</p>
                        <div><span class="tech-tag">Biotech</span> <span class="tech-tag">Green Tech</span></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer (Restored) -->
        <footer id="contact">
            <div class="container">
                <div class="footer-content">
                    <div style="text-align: left;">
                        <h3 style="color: #fff; font-family: 'AlimamaShuHeiTi-Bold'; margin-bottom: 10px;">R Sanjeev</h3>
                        <p style="color: var(--text-muted);">Innovating at the edge of hardware & software.</p>
                    </div>
                    
                    <div style="text-align: left;">
                        <p style="color: var(--text-muted); margin-bottom: 5px;">Contact</p>
                        <div style="display: flex; gap: 10px; align-items: center; color: #fff;">
                            <i class="ri-mail-line"></i> sanjeev@example.com
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center; color: #fff;">
                            <i class="ri-phone-line"></i> +65 9066 8319
                        </div>
                    </div>

                    <div class="social-links">
                        <a href="#" class="social-card"><i class="ri-github-fill"></i></a>
                        <a href="#" class="social-card"><i class="ri-linkedin-fill"></i></a>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 40px; color: var(--text-muted); font-size: 0.8rem;">
                    &copy; 2024 R Sanjeev. All Rights Reserved.
                </div>
            </div>
        </footer>
    </div>

    <!-- 3D GALLERY VIEW -->
    <div id="gallery-view" class="view-section hidden">
        <button class="back-btn" onclick="showHome()">
            <i class="ri-close-line"></i> Close
        </button>
        <div class="carousel-scene" id="scene-container">
            <div class="carousel" id="carousel-spinner"></div>
        </div>
        <div style="position: absolute; bottom: 30px; text-align: center; width: 100%; pointer-events: none; color: var(--text-muted); padding: 0 20px;">
            <p style="font-size: 1.2rem; color: #fff;">3D Project Stack</p>
            <p style="font-size: 0.8rem;">Drag to rotate • Click to expand</p>
        </div>
    </div>

    <!-- CERTIFICATIONS VIEW -->
    <div id="certs-view" class="view-section hidden">
        <button class="back-btn" onclick="showHome()">
            <i class="ri-arrow-left-line"></i> Home
        </button>
        <div class="wall-scene" id="wall-scene">
            <div class="cert-wall" id="cert-wall">
                <div class="cert-card"><i class="ri-trophy-fill cert-icon"></i><div class="cert-title">World Skills Mechatronics</div><div class="cert-sub">2023 • Excellence Award</div></div>
                <div class="cert-card"><i class="ri-plane-fill cert-icon"></i><div class="cert-title">SAFMC 2023/2024</div><div class="cert-sub">Autonomous Drone Challenge</div></div>
                <div class="cert-card"><i class="ri-award-fill cert-icon"></i><div class="cert-title">Drone Odyssey</div><div class="cert-sub">Technical Certification</div></div>
                <div class="cert-card"><i class="ri-book-mark-fill cert-icon"></i><div class="cert-title">Edusave Merit</div><div class="cert-sub">Academic Excellence</div></div>
                <div class="cert-card"><i class="ri-team-fill cert-icon"></i><div class="cert-title">Maker Space Lead</div><div class="cert-sub">Leadership Recognition</div></div>
                <div class="cert-card"><i class="ri-code-box-fill cert-icon"></i><div class="cert-title">Python Specialist</div><div class="cert-sub">Advanced Programming</div></div>
            </div>
        </div>
        <div style="position: absolute; bottom: 30px; color: var(--text-muted); text-align: center; width: 100%;">
            <i class="ri-mouse-line"></i> Tilt device or move mouse
        </div>
    </div>

    <!-- EXPERIENCE VIEW (Scrollable & Filterable) -->
    <div id="exp-view" class="view-section hidden">
        <button class="back-btn" onclick="showHome()">
            <i class="ri-arrow-left-line"></i> Home
        </button>
        
        <!-- Sticky Header Container -->
        <div class="exp-sticky-header">
            <h2 style="text-align: center; color: #fff; margin-bottom: 20px; font-family: 'AlimamaShuHeiTi-Bold'; font-size: 2.5rem;">Experience</h2>
            <!-- Tabs -->
            <div class="exp-tabs">
                <div class="exp-tab-btn active" onclick="filterExp('all')">All</div>
                <div class="exp-tab-btn" onclick="filterExp('work')">Work</div>
                <div class="exp-tab-btn" onclick="filterExp('leadership')">Leadership</div>
                <div class="exp-tab-btn" onclick="filterExp('competitions')">Competitions</div>
                <div class="exp-tab-btn" onclick="filterExp('workshops')">Workshops</div>
            </div>
        </div>

        <div class="timeline-container" id="timeline-list">
            <!-- Populated via JS -->
        </div>
    </div>

    <!-- MORPH OVERLAY -->
    <div class="morph-overlay" id="morph-overlay">
        <div class="close-morph" onclick="closeMorph()"><i class="ri-close-line"></i></div>
        <div class="morph-content-wrapper" id="morph-wrapper">
            <div id="morph-inner-content" class="full-detail-content"></div>
        </div>
    </div>

    <script>
        // --- DATA ---
        const projectsData = [
            { id: 1, title: "DUODRONEomni", icon: "ri-flight-takeoff-line", short: "Dual propeller drone", desc: "A revolutionary dual propeller drone featuring a virtual swash plate mechanism.", tags: ["SDR", "WiFi 7", "Mapping"], details: "The DUODRONEomni represents a shift in UAV design. By eliminating the mechanical swashplate..." },
            { id: 2, title: "Drone Swarm", icon: "ri-group-line", short: "Autonomous swarm", desc: "Python-programmed swarm control system designed for search and rescue operations.", tags: ["Python", "Swarm Logic", "AI"], details: "Developed for SAFMC, this system allows a single operator to command a fleet of 5 drones..." },
            { id: 3, title: "Eco-Insulation", icon: "ri-leaf-line", short: "Mycelium foam", desc: "Entrepreneurial venture focused on sustainable manufacturing.", tags: ["Biotech", "Startup", "Green Tech"], details: "This project bridges biology and engineering..." },
            { id: 4, title: "Virtual Trainer", icon: "ri-robot-line", short: "IoT assistant", desc: "IoT-based tracking system using ESP32-CAM.", tags: ["ESP32", "Computer Vision", "IoT"], details: "Using pose estimation models running on the edge..." },
            { id: 5, title: "Rover PCB", icon: "ri-cpu-line", short: "Custom PCB", desc: "Custom high-frequency PCB designs for autonomous rovers.", tags: ["Altium", "Hardware", "Electronics"], details: "Designed a 4-layer PCB integrating power management..." },
            { id: 6, title: "ROS SLAM", icon: "ri-map-pin-line", short: "Indoor mapping", desc: "SLAM implementation on a custom-built rover using ROS 2.", tags: ["ROS 2", "SLAM", "C++"], details: "Implemented Gmapping and AMCL..." }
        ];

        // --- EXPERIENCE DATA ---
        const experienceData = [
            { type: 'leadership', year: '2023 - Present', role: 'Team Lead', company: 'NYP Maker Space', desc: 'Leading a team of 10 students in managing 3D printing facilities, conducting Arduino/Soldering workshops, and maintaining lab equipment.' },
            { type: 'competitions', year: '2023 - 2024', role: 'Project Lead', company: 'SAFMC (Flying Machine Competition)', desc: 'Designed and built a swarm of 5 autonomous drones for search and rescue operations. Managed system integration of PX4 flight controllers.' },
            { type: 'work', year: '2022 - 2023', role: 'Engineering Intern', company: 'TechSolutions Pte Ltd', desc: 'Assisted in the development of IoT sensor nodes for smart building applications. PCB Design using Altium and Firmware using C++.' },
            { type: 'workshops', year: '2023', role: 'Facilitator', company: 'Robotics Workshop Series', desc: 'Conducted a series of workshops for junior students teaching basic electronics and MicroPython programming.' },
            { type: 'competitions', year: '2023', role: 'Finalist', company: 'WorldSkills Singapore', desc: 'Competed in the Mechatronics trade, programming industrial PLC systems and robotic arms.' },
            { type: 'leadership', year: '2022', role: 'Vice President', company: 'Robotics Club', desc: 'Organized school-wide tech showcase and managed club inventory and budget.' },
            { type: 'work', year: '2021', role: 'Freelance Developer', company: 'Self-Employed', desc: 'Developed custom Python scripts for data automation for small local businesses.' }
        ];

        // --- NAVIGATION ---
        function toggleNav() {
            document.getElementById('nav-drawer').classList.toggle('open');
            document.getElementById('nav-overlay').classList.toggle('open');
        }

        function navTo(section) {
            toggleNav();
            const views = ['home-view', 'gallery-view', 'certs-view', 'exp-view'];
            views.forEach(v => document.getElementById(v).classList.add('hidden'));
            
            if (section === 'home') {
                document.getElementById('home-view').classList.remove('hidden');
                document.body.style.overflow = "auto";
            } else if (section === 'gallery') {
                document.getElementById('gallery-view').classList.remove('hidden');
                document.body.style.overflow = "hidden";
            } else if (section === 'certs') {
                document.getElementById('certs-view').classList.remove('hidden');
                document.body.style.overflow = "hidden";
            } else if (section === 'exp') {
                document.getElementById('exp-view').classList.remove('hidden');
                // Ensure body allows scroll but also ensure container has height
                document.body.style.overflow = "hidden"; 
                filterExp('all'); // Initialize exp view
            } else if (section === 'contact') {
                document.getElementById('home-view').classList.remove('hidden');
                document.body.style.overflow = "auto";
                setTimeout(() => document.getElementById('contact').scrollIntoView({behavior: 'smooth'}), 100);
            }
        }
        
        function showHome() { navTo('home'); }

        // --- EXPERIENCE FILTERING & SCROLL ANIMATION ---
        function filterExp(category) {
            const container = document.getElementById('timeline-list');
            container.innerHTML = ''; // Clear current
            
            // Update Tab UI
            document.querySelectorAll('.exp-tab-btn').forEach(btn => {
                btn.classList.remove('active');
                if(btn.innerText.toLowerCase() === category || (category === 'all' && btn.innerText === 'All')) {
                    btn.classList.add('active');
                }
            });

            const filtered = category === 'all' ? experienceData : experienceData.filter(d => d.type === category);

            if (filtered.length === 0) {
                container.innerHTML = '<div style="text-align:center; color: #888;">No items found.</div>';
                return;
            }

            filtered.forEach(item => {
                const el = document.createElement('div');
                el.className = 'timeline-item';
                el.innerHTML = `
                    <div style="color: var(--neon-blue); font-weight: bold;">${item.year}</div>
                    <h3 style="color: #fff;">${item.role}</h3>
                    <div style="color: var(--text-muted); font-style: italic;">${item.company}</div>
                    <p style="font-size: 0.9rem; color: #ddd; margin-top: 10px;">${item.desc}</p>
                `;
                container.appendChild(el);
            });
            
            // Trigger animation check in case existing scroll is used
            handleExpScroll();
        }

        // SCROLL LISTENER FOR ABYSS EFFECT (FIXED)
        function handleExpScroll() {
            const items = document.querySelectorAll('.timeline-item');
            const header = document.querySelector('.exp-sticky-header');
            
            if (!header) return;
            
            const headerBottom = header.offsetHeight;
            
            items.forEach(item => {
                const rect = item.getBoundingClientRect();
                const dist = rect.top - headerBottom;
                
                // Fade starts only when item touches the header bottom (0) and ends at -100px (slide under)
                // dist is negative as it goes up
                if (dist < 50) {
                    // Start fading when within 50px of header bottom
                    let progress = Math.min(1, Math.max(0, (dist + 150) / 200)); 
                    // This maps dist -150 to +50 -> progress 0 to 1
                    
                    item.style.opacity = progress;
                    
                    // Move backwards (negative Z) as it disappears
                    const z = (1 - progress) * -150; 
                    const rot = (1 - progress) * 15;
                    
                    item.style.transform = `perspective(1000px) translateZ(${z}px) rotateX(${rot}deg) scale(${0.9 + (0.1 * progress)})`;
                } else {
                    item.style.opacity = 1;
                    item.style.transform = 'perspective(1000px) translateZ(0) rotateX(0) scale(1)';
                }
            });
        }

        document.getElementById('exp-view').addEventListener('scroll', handleExpScroll);

        // --- CAROUSEL LOGIC ---
        let currDeg = 0; let autoSpinSpeed = 0.2; let isDragging = false; let startX = 0; let prevDeg = 0;
        const cellCount = projectsData.length; const theta = 360 / cellCount; 
        
        // Responsive radius calculation
        function getRadius() {
            return window.innerWidth < 600 ? 250 : 350;
        }

        function initCarousel() {
            const container = document.getElementById('carousel-spinner');
            const scene = document.getElementById('gallery-view');
            container.innerHTML = ''; // Clear prev
            
            const radius = getRadius();

            projectsData.forEach((proj, index) => {
                const card = document.createElement('div');
                card.className = 'carousel-item';
                const angle = theta * index;
                card.style.transform = `rotateY(${angle}deg) translateZ(${radius}px)`;
                card.innerHTML = `<i class="${proj.icon}" style="font-size: 50px; color: var(--neon-blue); margin-bottom: 20px;"></i><h3 style="font-family: 'AlimamaShuHeiTi-Bold'; font-size: 20px; margin-bottom: 10px;">${proj.title}</h3><p style="font-size: 0.85rem; color: var(--text-muted);">${proj.short}</p>`;
                card.addEventListener('click', () => handleCardClick(index, proj));
                container.appendChild(card);
            });

            scene.addEventListener('mousedown', startDrag); scene.addEventListener('touchstart', startDrag, {passive: false});
            scene.addEventListener('mousemove', moveDrag); scene.addEventListener('touchmove', moveDrag, {passive: false});
            scene.addEventListener('mouseup', endDrag); scene.addEventListener('touchend', endDrag); scene.addEventListener('mouseleave', endDrag);
            loop();
        }

        function loop() {
            if (!isDragging) currDeg -= autoSpinSpeed;
            const container = document.getElementById('carousel-spinner');
            const radius = getRadius();
            if(container) {
                container.style.transform = `translateZ(-${radius}px) rotateY(${currDeg}deg)`;
                const frontIndex = Math.round((currDeg * -1) / theta);
                document.querySelectorAll('.carousel-item').forEach((item, index) => {
                    let normalizedFront = frontIndex % cellCount; if(normalizedFront < 0) normalizedFront += cellCount;
                    if(index === normalizedFront) item.classList.add('active'); else item.classList.remove('active');
                });
            }
            requestAnimationFrame(loop);
        }

        // Drag handlers
        let dragStartDeg = 0;
        function startDrag(e) { isDragging = true; startX = (e.pageX || e.touches[0].pageX); prevDeg = currDeg; dragStartDeg = currDeg; }
        function moveDrag(e) { if (!isDragging) return; e.preventDefault(); const currentX = (e.pageX || e.touches[0].pageX); const deltaX = currentX - startX; currDeg = prevDeg + (deltaX * 0.5); }
        function endDrag() { isDragging = false; }
        function handleCardClick(index, proj) {
            if (Math.abs(currDeg - dragStartDeg) < 5) {
                const frontIndex = Math.round((currDeg * -1) / theta);
                let normalizedFront = frontIndex % cellCount; if(normalizedFront < 0) normalizedFront += cellCount;
                if (index === normalizedFront) openMorph(proj);
            }
        }

        // --- WALL PARALLAX LOGIC ---
        if (window.innerWidth > 900) {
            document.getElementById('certs-view').addEventListener('mousemove', (e) => {
                const wall = document.getElementById('cert-wall');
                const x = (e.clientX / window.innerWidth - 0.5) * 2; 
                const y = (e.clientY / window.innerHeight - 0.5) * 2;
                wall.style.transform = `perspective(2000px) rotateY(${x * 5}deg) rotateX(${-y * 5}deg)`;
            });
        }

        // --- MORPH ANIMATION ---
        function openMorph(proj) {
            const overlay = document.getElementById('morph-overlay');
            const content = document.getElementById('morph-inner-content');
            const tagsHtml = proj.tags.map(t => `<span class="tech-tag">${t}</span>`).join('');
            content.innerHTML = `<div class="detail-header"><i class="${proj.icon}" style="font-size: 60px; color: var(--neon-blue); margin-bottom: 20px;"></i><h1 style="font-family: 'AlimamaShuHeiTi-Bold'; font-size: 32px; margin-bottom: 10px;">${proj.title}</h1><div style="margin-bottom: 20px;">${tagsHtml}</div><p style="font-size: 1.1rem; color: #fff; max-width: 700px; margin: 0 auto;">${proj.desc}</p></div><div class="detail-body"><div class="detail-grid"><div><h3 style="color: var(--neon-blue); border-bottom: 2px solid var(--neon-blue); display: inline-block; margin-bottom: 20px;">Technical Deep Dive</h3><p style="font-size: 1rem; color: var(--text-main); line-height: 1.8;">${proj.details}</p><div style="height: 200px; background: rgba(255,255,255,0.05); margin-top: 30px; border-radius: 10px; display: flex; align-items: center; justify-content: center;"><span style="color: var(--text-muted);">Image / Diagram Placeholder</span></div></div><div style="background: rgba(255,255,255,0.03); padding: 30px; border-radius: 10px; height: fit-content;"><h4 style="margin-bottom: 15px; color: #fff;">Key Technologies</h4><ul style="list-style: none; color: var(--text-muted);"><li style="margin-bottom: 10px; display: flex; align-items: center; gap: 10px;"><i class="ri-checkbox-circle-line" style="color: var(--neon-blue);"></i> ${proj.tags[0]}</li><li style="margin-bottom: 10px; display: flex; align-items: center; gap: 10px;"><i class="ri-checkbox-circle-line" style="color: var(--neon-blue);"></i> ${proj.tags[1]}</li></ul><button class="btn btn-primary" style="width: 100%; margin-top: 20px; font-size: 14px;">View Code</button></div></div></div>`;
            overlay.classList.add('active');
        }
        function closeMorph() { document.getElementById('morph-overlay').classList.remove('active'); }

        // --- THREE.JS ---
        let scene, camera, renderer, particles, techCore, coreSphere; let mouseX=0, mouseY=0;
        function initThree() {
            const canvas = document.getElementById('three-canvas');
            scene = new THREE.Scene(); 
            camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            const pGeo = new THREE.BufferGeometry(); const pCnt = 800; const pArr = new Float32Array(pCnt*3);
            for(let i=0;i<pCnt*3;i++) pArr[i] = (Math.random()-0.5)*15;
            pGeo.setAttribute('position', new THREE.BufferAttribute(pArr, 3));
            particles = new THREE.Points(pGeo, new THREE.PointsMaterial({size:0.005, color:0x00B4D8, transparent:true, opacity:0.8}));
            scene.add(particles);
            const coreGeo = new THREE.IcosahedronGeometry(2, 1);
            techCore = new THREE.Mesh(coreGeo, new THREE.MeshBasicMaterial({color:0x415A77, wireframe:true, transparent:true, opacity:0.2}));
            scene.add(techCore);
            coreSphere = new THREE.Mesh(new THREE.SphereGeometry(1,32,32), new THREE.MeshBasicMaterial({color:0xccffff, transparent:true, opacity:0.9}));
            techCore.add(coreSphere); camera.position.z = 5;
        }
        function animate() {
            requestAnimationFrame(animate);
            techCore.rotation.y += 0.002; techCore.rotation.x += 0.001;
            coreSphere.scale.setScalar(0.9 + Math.sin(Date.now()*0.002)*0.05);
            particles.rotation.y = mouseX*0.05; particles.rotation.x = -mouseY*0.05;
            renderer.render(scene, camera);
        }
        window.addEventListener('mousemove', e => { mouseX=(e.clientX/window.innerWidth)-0.5; mouseY=(e.clientY/window.innerHeight)-0.5; });
        window.addEventListener('resize', () => { 
            camera.aspect=window.innerWidth/window.innerHeight; 
            camera.updateProjectionMatrix(); 
            renderer.setSize(window.innerWidth, window.innerHeight); 
            initCarousel();
        });

        if (window.matchMedia("(hover: hover)").matches) {
            const tiltCards = document.querySelectorAll('.tilt-card');
            tiltCards.forEach(card => {
                card.addEventListener('mousemove', e => {
                    const rect = card.getBoundingClientRect();
                    card.style.transform = `perspective(1000px) rotateX(${((e.clientY-rect.top-rect.height/2)/10)}deg) rotateY(${((rect.width/2-(e.clientX-rect.left))/10)}deg) scale(1.02)`;
                });
                card.addEventListener('mouseleave', () => card.style.transform = `perspective(1000px) scale(1)`);
            });
        }

        window.onload = () => { initThree(); animate(); initCarousel(); };
    </script>
</body>
</html>
